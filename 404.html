<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>404 PurpleScope</title>
  <meta name="description" content="PurpleScope 404. You found the void." />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            brand: {
              600: '#9333ea',
              700: '#7e22ce',
              800: '#6d28d9',
              900: '#581c87'
            }
          },
          boxShadow: {
            soft: '0 10px 30px rgba(109,40,217,0.25)'
          }
        }
      }
    }
  </script>
  <style>
    /* minimalist purple cursor */
    body, a, button { cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><circle cx="8" cy="8" r="6" fill="%236d28d9"/></svg>') 8 8, auto }

    /* background */
    .bg-grad {
      background: radial-gradient(60rem 60rem at 80% -20%, rgba(168,85,247,.25), transparent 40%),
                  radial-gradient(40rem 40rem at -10% 10%, rgba(99,102,241,.25), transparent 40%),
                  linear-gradient(180deg, #0b0b12 0%, #0f0f17 100%);
    }

    /* glitch title */
    .glitch {
      position: relative;
      text-shadow: 0 0 20px rgba(168,85,247,.25);
    }
    .glitch::before, .glitch::after {
      content: attr(data-text);
      position: absolute; inset: 0;
      opacity: .7; mix-blend-mode: screen;
      filter: blur(.6px);
      animation: glitchShift 2s infinite linear alternate-reverse;
    }
    .glitch::before { color: #a855f7; transform: translate(0,0); }
    .glitch::after  { color: #60a5fa; animation-duration: 2.6s; }
    @keyframes glitchShift {
      0%   { transform: translate(0,0); }
      20%  { transform: translate(-1px, 1px); }
      40%  { transform: translate(1px, -.5px); }
      60%  { transform: translate(-.5px, -1px); }
      80%  { transform: translate(.5px, .5px); }
      100% { transform: translate(0,0); }
    }

    /* floating card styles */
    .glass { backdrop-filter: blur(10px); background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)); border: 1px solid rgba(255,255,255,.08); }
    .btn { transition: transform .2s ease, box-shadow .2s ease, background-color .2s ease; }
    .btn:hover { transform: translateY(-2px); box-shadow: 0 12px 30px rgba(109,40,217,.35); }

    /* tiny helper tooltip */
    .has-tooltip::after{content:attr(data-title);position:absolute;left:50%;top:-0.5rem;transform:translate(-50%,-100%);background:rgba(0,0,0,.7);padding:.25rem .5rem;border-radius:.375rem;font-size:10px;opacity:0;pointer-events:none;transition:opacity .2s ease;white-space:nowrap}
    .has-tooltip:hover::after{opacity:1}

    /* canvas fades independently */
    canvas { transition: filter .6s ease; }

    /* light mode (optional toggle inside page) */
    body.theme-light { background:#f7f7fb; color:#0b0b12; }
    body.theme-light .glass{ background: linear-gradient(180deg, rgba(0,0,0,.04), rgba(0,0,0,.02)); border-color: rgba(0,0,0,.1); }
    body.theme-light .btn{ color:#0b0b12; border-color:rgba(0,0,0,.2); }
    body.theme-light .btn:hover{ background:rgba(0,0,0,.06); }
    body.theme-light a{ color:#0b0b12; }
    body.theme-light p{ color:#0b0b12; }
    body.theme-light .glass{ background: linear-gradient(180deg, rgba(0,0,0,.04), rgba(0,0,0,.02)); border-color: rgba(0,0,0,.1); }
  </style>
</head>
<body class="bg-grad text-white min-h-screen antialiased overflow-hidden">
  <!-- interactive background -->
  <canvas id="fx" class="fixed inset-0 -z-10"></canvas>

  <main class="relative mx-auto flex min-h-screen max-w-7xl flex-col items-center justify-center px-6">
    <header class="absolute left-0 right-0 top-0 mx-auto flex max-w-7xl items-center justify-between gap-4 p-4">
      <a href="/" class="text-sm font-semibold tracking-wide text-white/90">PurpleScope</a>
      <button id="theme" class="rounded-xl border border-white/10 px-3 py-1.5 text-xs hover:bg-white/5">Toggle theme</button>
    </header>

    <h1 class="glitch mb-4 text-center text-7xl font-extrabold tracking-tight sm:text-8xl" data-text="404">404</h1>
    <p class="mb-8 max-w-xl text-center text-white/70 dark:text-white/70 text-black/70">this page doesn’t exist. but the void is interactive so move your mouse, click the button, or press <kbd class="rounded bg-white/10 px-1">m</kbd> for chaos mode.</p>

    <section class="glass rounded-3xl p-6 shadow-soft">
      <div class="grid gap-4 text-center sm:grid-cols-2">
        <button id="cta" class="btn has-tooltip rounded-2xl bg-brand-800/60 px-6 py-3 text-sm font-semibold shadow-soft hover:bg-brand-700/60" data-title="click me">click me</button>
        <a href="/" class="btn rounded-2xl border border-white/10 px-6 py-3 text-sm font-semibold text-white/90 hover:bg-white/5">go home</a>
      </div>
    </section>
  </main>

  <script>
  (function(){
    // canvas particle field
    const c = document.getElementById('fx');
    const ctx = c.getContext('2d');
    let w, h, dpr, particles = [], mouse = {x:0, y:0, vx:0, vy:0}, chaos=false, raf;

    function size(){
      dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
      w = c.width = Math.floor(window.innerWidth * dpr);
      h = c.height = Math.floor(window.innerHeight * dpr);
      c.style.width = window.innerWidth + 'px';
      c.style.height = window.innerHeight + 'px';
    }

    function resetParticles(n=120){
      particles = Array.from({length:n}, () => ({
        x: Math.random()*w,
        y: Math.random()*h,
        r: 1 + Math.random()*2.5,
        a: Math.random()*Math.PI*2,
        s: .2 + Math.random()*1.2,
        hue: 265 + Math.random()*40
      }));
    }

    function draw(){
      ctx.clearRect(0,0,w,h);
      for(const p of particles){
        // move
        p.a += (chaos ? 0.06 : 0.02) * p.s;
        p.x += Math.cos(p.a) * p.s * 1.2 + mouse.vx*0.02;
        p.y += Math.sin(p.a) * p.s * 1.2 + mouse.vy*0.02;
        // wrap
        if(p.x < -10) p.x = w+10; if(p.x > w+10) p.x = -10;
        if(p.y < -10) p.y = h+10; if(p.y > h+10) p.y = -10;
        // draw
        ctx.beginPath();
        ctx.fillStyle = `hsla(${p.hue}, 80%, ${chaos?65:58}%, 0.75)`;
        ctx.arc(p.x, p.y, p.r * dpr, 0, Math.PI*2);
        ctx.fill();
      }
      raf = requestAnimationFrame(draw);
    }

    function burst(x,y,count=45){
      for(let i=0;i<count;i++){
        particles.push({ x, y, r:1+Math.random()*2, a:Math.random()*Math.PI*2, s:2+Math.random()*2, hue: 265+Math.random()*60 });
      }
      if(particles.length > 250) particles.splice(0, particles.length-250);
    }

    // input
    let lmX=0, lmY=0; // last mouse
    window.addEventListener('mousemove', (e)=>{
      const x = e.clientX * dpr, y = e.clientY * dpr;
      mouse.vx = x - lmX; mouse.vy = y - lmY; lmX = x; lmY = y;
      mouse.x = x; mouse.y = y;
    }, {passive:true});

    // resize
    window.addEventListener('resize', ()=>{ size(); resetParticles(particles.length); }, {passive:true});

    // theme toggle just for fun (no storage)
    const themeBtn = document.getElementById('theme');
    if(themeBtn){ themeBtn.addEventListener('click', ()=> document.body.classList.toggle('theme-light')); }

    // cta button interactions
    const cta = document.getElementById('cta');
    if(cta){
      cta.addEventListener('click', ()=>{
        chaos = !chaos;
        c.style.filter = chaos ? 'saturate(1.5) blur(.2px)' : 'saturate(1) blur(0)';
        burst(mouse.x||w/2, mouse.y||h/2, chaos?80:45);
        cta.textContent = chaos? 'make it calm' : 'click me';
      });
      cta.addEventListener('mouseenter', ()=>{ cta.style.transform = 'translateY(-2px)'; });
      cta.addEventListener('mouseleave', ()=>{ cta.style.transform = ''; });
    }

    // init
    size(); resetParticles(); draw();

    // smoke tests
    console.groupCollapsed('404 page — tests');
    console.assert(!!document.getElementById('fx'), '#fx canvas missing');
    console.assert(!!cta, '#cta button missing');
    console.assert(typeof requestAnimationFrame === 'function', 'rAF missing');
    console.groupEnd();
  })();
  </script>
</body>
</html>
